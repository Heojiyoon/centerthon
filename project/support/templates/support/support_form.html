{% extends 'base.html' %}
{%load static%}
{% with artist=artist alerts=alerts %}
{% block content %}
<img class="back" src="{% static 'images/back.png'%}" alt="뒤로가기">

<h1>모금 정보 작성하기</h1>
<h2>입금 후 모금 정보를 작성해주세요</h2>

<form class="register" method="post" action="{% url 'support:create_support_form' pk=artist.pk spt_pk=support.pk %}">
    {% csrf_token %}
    <input class="fundraisername" placeholder="입금자명" type="text" name="depositor" id="depositor"><br>
    <input  class="fundpay"  placeholder="모금액" type="number" name="credit" id="credit"><br>
    <input data-placeholder="입금 시간"
    required
    aria-required="true"
    value={startDateValue}
    className={styles.selectDay}
    onChange={StartDateValueHandler}
    class="custom-time"
    id="date-input" type="datetime-local" name="creditTime" id="creditTime" />
    <button class="start-Button" type="submit">항목을 모두 작성해주세요</button>
</form>


<script>
    let inputs = document.querySelectorAll("input");
let startButton = document.querySelector(".start-Button");
startButton.disabled = true;

function checkInputs() {
  let allFilled = true;
  inputs.forEach(function(input){
    if (input.value === "") {
      allFilled = false;
      return;
    }
  });

  if (allFilled) {
    startButton.disabled = false;
    startButton.style.backgroundColor = "#00A9FF";
    startButton.innerHTML="제출"
  } else {
    startButton.disabled = true;

  }
}
inputs.forEach(function(input){
  input.addEventListener("input", checkInputs);
});

</script>


{% endblock %}
{% endwith %}