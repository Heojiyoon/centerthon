{% extends 'base_meeting.html' %}
{% load static %}
{% with artist=artist alerts=alerts %}
{% block content %}


    <h1 class="detail-title-meeting">{{ meeting.title }}</h1>
    {% if meeting.image %}
        <img src="{{ meeting.image.url }}" alt="{{ meeting.title }} Image">
    {% endif %}
    <p><strong>모임 일자:</strong> {{ meeting.meetDate|date:"Y/m/d" }}</p>
    <p><strong>장소:</strong> {{ meeting.location }}</p>
    <p><strong>나이 제한:</strong> {{ meeting.age }}</p>
    <p><strong>인원:</strong> {{ meeting.peopleNm }}</p>
    <p><strong>내용:</strong></p>
    <p>{{ meeting.body }}</p>
    <p><strong>모임 상태:</strong> {{ meeting.meetingState }}</p>

        {% if request.user != meeting.writeUser %}
           <form method="post" action="{% url 'meeting:applyMeeting' artist_id=artist.id meeting_id=meeting.id %}">
            {% csrf_token %}
            <button type="submit">신청하기</button>
        </form>
    {% endif %}

    {% if request.user == meeting.writeUser %}
          <form method="post" action="{% url 'meeting:editMeeting' artist_id=artist.id meeting_id=meeting.id %}">
            {% csrf_token %}
            <button type="submit">수정하기</button>
        </form>

        <form method="post" action="{% url 'meeting:closeMeeting' artist_id=artist.id meeting_id=meeting.id %}">
            {% csrf_token %}
            <button type="submit">마감하기</button>
        </form>
    {% endif %}

{% endblock %}
{% endwith %}