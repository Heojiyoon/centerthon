{% load static %}
<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap"
      rel="stylesheet"
    />
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"
    />
    <link rel="stylesheet" href="{% static 'css/base_artistlist.css' %}" />
    <link rel="stylesheet" href="{% static 'css/tutorial_support_start_step_1.css' %}" />
    <link rel="stylesheet" href="{% static 'css/artist_list.css' %}" />
    <link rel="stylesheet" href="{% static 'css/subscribe_list.css' %}" />
    <link rel="stylesheet" href="{% static 'css/create_post.css' %}" />
    <link rel="stylesheet" href="{% static 'css/support_create.css' %}" />
    <link rel="stylesheet" href="{% static 'css/create_post.css' %}" />

    <title>별너울</title>
    {% include 'head.html' %}
    <style>
      .dark-background {
          background-color: rgba(0, 0, 0, 0.6); 
          position: absolute;
          top: 0;
          left: 0;
          width: 375px;
          height: 100%;
          z-index: 2;
          display: flex;
          align-items: center;
          justify-content: center;
      }
  </style>   

  </head>
  <body>
    <div class="container" style="position:relative">
      <div class="dark-background" id="popup" style="display:none;">
      </div>
      <div class="content">
        <img
          class="back"
          src="{% static 'images/back.png'%}"
          alt="이전"
          onclick="goBack()"
        />
        <h1 class="support_h1">서포트 시작하기</h1>
        <h2 class="support_h2">서포트 정보를 작성해주세요.</h2>

        <div class="register">
          <input
            class="title"
            placeholder="제목"
            type="text"
            name="title"
            id="title"
            style="position:relative"
          />
          <input
            class="goal"
            placeholder="목표 모금액"
            type="number"
            name="fundraising"
            id="fundraising"
            style="position:relative"
          />
          <input
            data-placeholder="모금 종료 기간"
            required
            aria-required="true"
            value="{startDateValue}"
            className="{styles.selectDay}"
            onChange="{StartDateValueHandler}"
            class="custom-date"
            type="datetime-local"
            name="deadline"
            id="dead"
            style="position:relative"
          />

          <div style="position: relative; border: none; margin-bottom: 26px" class="detail-box">
            <textarea
              class="detail"
              placeholder="내용"
              name="body"
              id="body"
            ></textarea>
            <div class="select-wrapper" style="border: none; margin-top: -65px">
              <label for="image" class="custom-addImg-Button">사진</label>
              <input
                style="display: none"
                type="file"
                name="image"
                value="{{ support.image }}"
                id="image"
              />
            </div>
          </div>
          <article>
            <input
              class="account"
              placeholder="계좌번호"
              type="text"
              name="account"
              id="account"
            />
            <select
              class="account-Button"
              onclick="return false;"
              name="bank"
              value="{{ support.bank }}"
              id="bank"
            >
              <option value="우리">우리</option>
              <option value="농협">농협</option>
              <option value="신한">신한</option>
              <option value="삼성">삼성</option>
            </select>
          </article>
          <button
            class="start-Button"
            disabled
            style="margin-top: 10px; background: #b3b1b0"
            onclick="goNext()"
          >
            항목을 모두 작성해 주세요
          </button>
        </div>
        <script>
          /* 버튼 활성화 */
          let inputs = document.querySelectorAll("input, textarea");
          let startButton = document.querySelector(".start-Button");
          startButton.disabled = true;

          function checkInputs() {
            let allFilled = true;
            inputs.forEach(function (input) {
              if (input.value.trim() === "") {
                allFilled = false;
                return;
              }
            });

            if (allFilled) {
              startButton.disabled = false;
              startButton.style.backgroundColor = "#BC67FF";
              startButton.innerHTML = "시작하기";
            } else {
              startButton.disabled = true;
            }
          }

          inputs.forEach(function (input) {
            input.addEventListener("input", checkInputs);
          });

          function goBack() {
            window.history.back();
          }

          function goNext(){
            setTimeout(function() {
              window.location.href = '{% url 'user:tutorial_support_start_step_1' %}';
          }, 1000);
          }

          const popup = document.getElementById("popup");
          let inputs2 = document.querySelectorAll("input");
          const startbutton = document.querySelector('.start-Button');
          const hand = document.querySelector('.hand');
          const detail = document.querySelector('.detail-box');

  
  
          setTimeout(function () {
              popup.style.display = "block";
              hand.style.display = "block";
              detail.style.display = "block";

              inputs2.forEach(function (input) {
                  input.style.zIndex = "9999";
                  startbutton.style.zIndex = "9999";
               
              });
          }, 2000);
        </script>
      </div>
    </div>
  </body>
</html>
