{% load static %}
<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />

    <link rel="stylesheet" href="{% static 'css/base_meeting.css' %}" />
    <link rel="stylesheet" href="{% static 'css/header.css' %}" />
    <link rel="stylesheet" href="{% static 'css/footer.css' %}" />
    <link rel="stylesheet" href="{% static 'css/meeting_list.css' %}" />
    <link rel="stylesheet" href="{% static 'css/meeting_detail.css' %}?after" />
    <link rel="stylesheet" href="{% static 'css/writed_meeting_list.css' %}" />
    <link rel="stylesheet" href="{% static 'css/meeting_completed_list.css' %}" />
    <link rel="stylesheet" href="{% static 'css/applyed_meeting_list.css' %}" />


    <link rel="stylesheet" href="{% static 'css/support_list.css' %}?after" />
    <link rel="stylesheet" href="{% static 'css/support_form.css' %}?after" />

    <link rel="stylesheet" href="{% static 'css/artist_info.css' %}?after" />



      <title>별너울</title>
    {% include 'head.html' %}
    <style>

.dark-background {
    background-color: rgba(0, 0, 0, 0.6);
    position: absolute;
    top: 0;
    left: 0;
    width: 375px;
    height: 100vh;
    z-index: 10;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  #hidden-pointer {
    display: none;
    position: absolute;
    animation: motion 1s linear infinite alternate;
  }

  @keyframes motion {
    0% {
      top: 24%;
    }
    100% {
      top: 26%;
    }
  }
  .countdown-circle {
    width: 60px;
    height: 60px;
    border-radius: 50%;
   
    position: relative;
    animation: countdown-circle-shrink 10s linear infinite;
    background:#fff;
  }
  
     </style>
   </head>
  <body>
    <img id="hidden-img" src="{% static 'tutorial/meet_step3_3.png' %}"
    style=" display: none; position: absolute; z-index: 8888; top: 70%; left: 50%; transform: translate(-50%, -50%);"
    alt="이미지">
    <img id="hidden-img2" src="{% static 'tutorial/meet_step3_4.png' %}"
    style=" display: none; position: absolute; z-index: 8888; top: 70%; left: 50%; transform: translate(-50%, -50%);"
    alt="이미지">
    <img id="hand" src="{% static 'tutorial/hand.png' %}"
    style=" width: 70px; display: none; position: absolute; z-index: 10000; left: 44%; transform: translate(-50%, -50%);"
    alt="이미지">
    <div class="container" style="position:relative">
      <div class="dark-background" id="popup" style="display:none;">
        <div  class="countdown-container"style="font-size:35px; font-weight:700;z-index: 11199;position: absolute; width:80px;  transform: translate(10%, 90%); margin-left:280px; margin-top:-25px; padding:10px; ">
          <div class="countdown-circle" id="countdown-circle">
            <div class="countdown-time" id="countdown-time" style="text-align:center; line-height:150%;">
             
            </div>
          
          </div>
        
        </div>

      </div>
      <div class="header">
        <form>
          <button class="btn-select" type="submit">
            &nbsp; &nbsp;임영웅 •••
          </button>
        </form>
        <div class="icon">
          <form>
            <button type="submit">
              <img class="user" src="{% static 'images/user.png'%}" alt="이용행보" />
            </button>
          </form>
          <form>
            <button id="alarm-button">
              <img class="alarm" src="{% static 'images/alarm.png'%}" alt="알람" />
            </button>
          </form>
        </div>
      </div>


      <div style="margin-bottom: 5px; display: flex; align-items: center; width:373px;" class="support_list_category">
    <button class ="allsupport" style="width:160px; margin-left:15px; font-size:20px;">모임 전체</button>
    <button class ="mysupport" style="width:160px; margin-left:24px; font-size:20px;border-bottom:3px solid #000000;" >나의 모임</button>
</div>

    <div class="meeting-button">
        <button class="write-button"style="  border: 1px solid #bc67ff;color:#bc67ff;" >작성</button>
        <button class="apply-button" style ="position: relative;" onclick="location.href='{% url 'user:tutorial_meeting_apply' %}'">신청</button>
        <button class="guardian-button">보호자</button>
        <div  style="margin-left:285px; margin-top:-25px;" >
            <a href="#;" onClick="zoomIn();"><img style="width:20px; height:20px;"src="{% static 'images/zoomin.png'%}" alt="확대"></a>
              <a href="#;" onClick="zoomOut();"><img style="width:20px; height:20px;"src="{% static 'images/zoomout.png'%}" alt="축소"></a>
            </div>
    </div>
        <div class="meeting-search-form">
            <label for="searchInput" style="font-size:17px;">신청자 검색:</label>
            <input type="text" id="searchInput" name="search" placeholder="신청자명을 검색하세요" style="text-indent:0px;">
         <button type="submit">검색</button>
    </div>


    <div class="meeting-writed" style="position: relative;">
        <div class="writed-lost">
            <h2>내가 작성한 모임 제목</a></h2>
            <div class="member-info">
                <h3>홍길동</h3>
                <h3>대기</h3>
                    <button class="confirm-button">신청자 정보 확인</button>
            </div>
            <div class="action-buttons">
                    <button class="accept" type="submit">수락하기</button>
                    <button class="refuse" type="submit">거부하기</button>
            </div>
        </div>

    </div>
      </div>

<script>
function goBack() {
    window.history.back();
}
</script>
  </body>
</html>
          </div>
         {% load static %}

<div class="footer">
    <div class="singer">
        <img id="singer-img" src="{% static 'images/singer.png'%}" alt="가수 이미지"></img>
      <div class="label" >내 가수</div>
    </div>
    <div class="list">
        <img id="list-img" src="{% static 'images/list.png'%}" alt="게시글 이미지"></img>
        <div class="label">게시판</div>
    </div>
    <div class="group" >
        <img id="group-img" style="width:58px; height:58px; margin-top:-6px;"src="{% static 'images/purplegroup.png'%}" alt="그룹 이미지" ></img>
      <div class="label" style="margin-top:-1px;color:#BC67FF">모임</div>
    </div>
    <div class="support">
        <img id="support-img" style="width:60px; height:60px;margin-top:-5px;margin-left:-14px;"src="{% static 'images/support.png'%}" alt="서포트 이미지" ></img>
      <div class="label"style="margin-top:-3px;margin-left:-15px;">서포트</div>
    </div>

  </div>

  <script>
    //하단바 아이콘 변경
    function handleImageHover(elementId, newImageSrc) {
      const imgElement = document.getElementById(elementId);
      imgElement.src = "{% static 'images/' %}" + newImageSrc;
  } 

  const singerImg = document.getElementById("singer-img");
  const listImg = document.getElementById("list-img");
  const supportImg = document.getElementById("support-img");


  singerImg.addEventListener("mouseenter", function () {
    handleImageHover("singer-img", "purplesinger.png");
  });

  singerImg.addEventListener("mouseleave", function () {
    handleImageHover("singer-img", "singer.png");
  });

  listImg.addEventListener("mouseenter", function () {
    handleImageHover("list-img", "purplelist.png");
  });

  listImg.addEventListener("mouseleave", function () {
    handleImageHover("list-img", "list.png");
  });



  supportImg.addEventListener("mouseenter", function () {
    handleImageHover("support-img", "purplesupport.png");
  });

  supportImg.addEventListener("mouseleave", function () {
    handleImageHover("support-img", "support.png");
  });

//하단바 h3 색상 변경
document.getElementById("singer-img").addEventListener("mouseover", function () {
  document.querySelector(".singer .label").classList.add("colored");
});

document.getElementById("singer-img").addEventListener("mouseout", function () {
document.querySelector(".singer .label").classList.remove("colored");
});

document.getElementById("list-img").addEventListener("mouseover", function () {
document.querySelector(".list .label").classList.add("colored");
});

document.getElementById("list-img").addEventListener("mouseout", function () {
document.querySelector(".list .label").classList.remove("colored");
});


document.getElementById("support-img").addEventListener("mouseover", function () {
  document.querySelector(".support .label").classList.add("colored");
  });

  document.getElementById("support-img").addEventListener("mouseout", function () {
  document.querySelector(".support .label").classList.remove("colored");
  });

  const popup = document.getElementById("popup"); //배경 어둡게 
  const hiddenImg = document.getElementById("hidden-img"); // 이미지 요소 추가
  const hiddenImg2 = document.getElementById("hidden-img2"); // 이미지 요소 추가
  const hand = document.getElementById("hand"); // 이미지 요소 추가
  const button = document.querySelector('.apply-button'); //보여주고 싶은 영역
  const meeting = document.querySelector('.meeting-writed'); //보여주고 싶은 영역 


  startCountdown(10);
  setTimeout(function () { 
    popup.style.display = "block";
    hiddenImg.style.display = "block"; // 이미지를 보이도록 스타일 변경
    meeting.style.zIndex = "3888";
   

    // hand.style.display = "block";  
    // hand.style.animation = "motion 1s linear infinite alternate";
    setTimeout(function () { 
    popup.style.display = "block";
    hiddenImg.style.display = "none"; // 이미지를 보이도록 스타일 변경
    hiddenImg2.style.display = "block"; // 이미지를 보이도록 스타일 변경
    hand.style.display = "block";  
    hand.style.animation = "motion 1s linear infinite alternate";
    button.style.zIndex = "8888";
    meeting.style.zIndex = "1";
    countdownContainer.style.display="none";
    }, 10000);
  }, 1000);


  /*시간 계산 함수*/
const countdownTime = document.getElementById("countdown-time");
const countdownContainer = document.querySelector(".countdown-container");

function startCountdown(seconds) {

let time = seconds;
const countdownInterval = setInterval(function () {
  time -= 1;
  if (time >= 0) {
    countdownTime.innerHTML = `${time}<span style="font-size:18px;">초</span>`;
  } else {
    clearInterval(countdownInterval);
  }
}, 1000);
}


</script>

      </div>

  </body>
</html>